module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},29344,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(70519);function f(){let a=(0,d.useRouter)(),f=(0,d.useSearchParams)(),g=(0,e.useToast)();return(0,c.useEffect)(()=>{g.showSuccessToast("Login successful! Redirecting to dashboard...")},[g]),(0,c.useEffect)(()=>{let b=f.get("token"),c=f.get("userId");b&&c?fetch("http://localhost:5000/api/users/profile",{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}}).then(a=>{if(!a.ok)throw Error("Failed to fetch user profile");return a.json()}).then(d=>{let e={_id:c,name:d.name,email:d.email,role:d.role,token:b};localStorage.setItem("user",JSON.stringify(e)),g.showSuccessToast("Successfully logged in with Google!"),"student"===d.role?a.push("/dashboard/student"):"teacher"===d.role?a.push("/dashboard/teacher"):a.push("/")}).catch(b=>{console.error("Error during Google auth success:",b),g.showErrorToast("Failed to complete Google authentication"),a.push("/login")}):(g.showErrorToast("Authentication failed. Missing token or user ID."),a.push("/login"))},[f,a,g]),(0,b.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,b.jsxs)("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-lg shadow-md",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Completing login..."}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please wait while we redirect you to your dashboard."})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__50a17704._.js.map